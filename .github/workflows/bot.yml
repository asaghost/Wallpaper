name: Daily Wallpaper Bot
on:
  schedule:
    - cron: '0 * * * *' # ููุดุฑ ูู ุณุงุนุฉ ุชููุงุฆูุงู
  workflow_dispatch: # ูุณูุญ ูู ุจุงูุชุดุบูู ุงููุฏูู ุฃูุถุงู

jobs:
  post:
    runs-on: ubuntu-latest
    steps:
      - name: Generate and Post
        run: |
          curl -X POST "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image:generateContent?key=AIzaSyBaUh3GG_JXDQyRW8MQo3goMbpZyjWb9SY" \
          -H "Content-Type: application/json" \
          -d '{
            "contents": [{"parts": [{"text": "Professional 4k wallpaper, Galaxy and Planets, aesthetic"}]}],
            "generation_config": {"image_config": {"aspect_ratio": "9:16"}}
          }' > res.json
          
          IMG_DATA=$(cat res.json | jq -r '.candidates[0].content.parts[0].inlineData.data')
          echo $IMG_DATA | base64 -d > photo.png
          
          curl -X POST "https://api.telegram.org/bot8475807409:AAHNj5nCT4BnwOrMSHoviStSUDgRwn_QO4g/sendPhoto" \
          -F "chat_id=@MobWallpaper4k" \
          -F "photo=@photo.png" \
          -F "caption=๐จ ุฎูููุฉ ุฌุฏูุฏุฉ ูู ูุธุงู GitHub ุงูุขูู"
